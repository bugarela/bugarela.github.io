<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Personal homepage exported with org-thtml">

  <title>Exercícios para a prova</title>
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

  <meta property="og:url" content="https://bugarela.com/mfo/20240525134648-mfo_exercicios_para_a_prova.html" />
  <meta property="og:title" content="Exercícios para a prova" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Personal homepage exported with org-thtml" />
  
    <meta property="og:image" content="https://bugarela.com/mfo/1a.png" />
    <meta property="og:image:width" content="1050" />
    <meta property="og:image:height" content="292" />
  
  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@bugarela">
    <meta name="twitter:title" content="Exercícios para a prova">
    <meta name="twitter:description" content="Personal homepage exported with org-thtml">
  

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lunr-languages@1.14.0/min/lunr.stemmer.support.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lunr-languages@1.14.0/min/lunr.pt.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.1/pure-min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.1/grids-responsive-min.css">
<link rel="stylesheet" href="../css/layouts/style.css">

    </head>
    <body>
        <div id="layout" class="pure-g">
            <div class="sidebar pure-u-1 pure-u-md-1-5" style="text-align: center">
    <div class="header">
        <h2 class="brand-title">
            <a href="../"><i class="fas fa-home"></i> Gabriela Moreira</a>
        </h2>
    </div>
    <div class="centered">
        <h1 class="huge"><i class="fas fa-folder-open"></i></h1>
        <h1 class="huge"><a href="./">MFO</a></h1>
        <h2 class="brand-title">Métodos Formais</h2>
        <h2 class="brand-tagline">Materiais da disciplina</h2>
    </div>
    <div class="footer">
    <div>
        Created using Emacs and
        <a href="https://github.com/juanjosegarciaripoll/org-thtml">org-mode</a
        >.<br />
        Style from
        <a href="https://owickstrom.github.io/the-monospace-web/"
            >The Monospace Web</a
        >.
    </div>
</div>

</div>

            <div class="content pure-u-1 pure-u-md-2-3">
                
                <h1>Exercícios para a prova</h1>
                 <nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#estruturas-de-kripke-1">Estruturas de Kripke</a>
<ul>
<li><a href="#quest-o-1-2">Questão 1</a></li>
<li><a href="#quest-o-2-2">Questão 2</a></li>
</ul>
</li>
<li><a href="#l-gica-temporal-1">Lógica temporal</a>
<ul>
<li><a href="#quest-o-3-2">Questão 3</a></li>
<li><a href="#quest-o-4-2">Questão 4</a></li>
</ul>
</li>
<li><a href="#propriedades-e-suposi-es-1">Propriedades e Suposições</a>
<ul>
<li><a href="#quest-o-5-2">Questão 5</a></li>
<li><a href="#quest-o-6-2">Questão 6</a></li>
<li><a href="#quest-o-7-2">Questão 7</a></li>
</ul>
</li>
<li><a href="#perguntas-gerais-1">Perguntas gerais</a>
<ul>
<li><a href="#quest-o-8-2">Questão 8</a></li>
</ul>
</li>
<li><a href="#tla-e-quint-1">TLA+ e Quint</a>
<ul>
<li><a href="#quest-o-9-2">Questão 9</a>
<ul>
<li><a href="#especifica-o-a-3">Especificação A</a></li>
<li><a href="#especifica-o-b-3">Especificação B</a></li>
</ul>
</li>
<li><a href="#quest-o-10-2">Questão 10</a></li>
<li><a href="#quest-o-11-2">Questão 11</a></li>
<li><a href="#quest-o-12-2">Questão 12</a></li>
<li><a href="#quest-o-13-2">Questão 13</a></li>
<li><a href="#quest-o-14-2">Questão 14</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<div id="outline-container-estruturas-de-kripke-1" class="outline-2">
<h2 id="estruturas-de-kripke-1">Estruturas de Kripke</h2>
<div class="outline-text-2" id="text-estruturas-de-kripke-1">
</div>
<div id="outline-container-quest-o-1-2" class="outline-3">
<h3 id="quest-o-1-2">Questão 1</h3>
<div class="outline-text-3" id="text-quest-o-1-2">
<p>
Identifique em quais estruturas de Kripke a seguir tem não-determinismo e <b>justifique sua resposta</b>.
</p>
<ol class="org-ol">
<li><p>
Semáforos. Considere o conjunto de estados inicial \(I = \{vermelho\}\)
</p>

<figure>
<img src="1a.png" alt="1a.png">

</figure>

<details>
<summary><b>[Resposta]</b></summary>

<p>
Determinístico (não há não-determinismo), porque existe somente um estado inicial e, para cada um dos três estados, há apenas uma possível transição.
</p>
</details></li>

<li><p>
Chaleira. Considere o conjunto de estados inicial \(I = \{temperatura\_ambiente\}\)
</p>

<figure>
<img src="2b.png" alt="2b.png">

</figure>

<details>
<summary><b>[Resposta]</b></summary>

<p>
Não-determinístico (há não-determinismo), porque, para os estados &ldquo;esquentando&rdquo; e &ldquo;esfriando&rdquo;, há mais de uma transição possível.
</p>
</details></li>
</ol>
</div>
</div>
<div id="outline-container-quest-o-2-2" class="outline-3">
<h3 id="quest-o-2-2">Questão 2</h3>
<div class="outline-text-3" id="text-quest-o-2-2">
<p>
Defina uma estrutura de Kripke para um sistema de caixa da água com as seguintes características:
</p>
<ul class="org-ul">
<li>A caixa da água contém uma bóia que impede que ela transborde, ou seja, a bóia interrompe o enchimento quando a caixa está completamente cheia.</li>
<li>A caixa não enche enquanto está sendo usada, ou seja, ela não pode estar enchendo e esvaziando ao mesmo tempo.</li>
<li>Se a caixa está vazia, ela não pode ser esvaziada.</li>
<li>O sistema inicia com a caixa vazia</li>
</ul>
<p>
PS: Tente usar o mínimo de estados e transições necessários para representar esse sistema.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<ul class="org-ul">
<li>\(S = \{vazia, enchendo, cheia, esvaziando\}\)</li>
<li>\(\rightarrow = \{vazia \rightarrow enchendo, enchendo \rightarrow esvaziando, enchendo \rightarrow cheia, cheia \rightarrow esvaziando, esvaziando \rightarrow enchendo, esvaziando \rightarrow vazia\}\)</li>
<li>\(I = \{vazia\}\)</li>
</ul>
</details>
</div>
</div>
</div>
<div id="outline-container-l-gica-temporal-1" class="outline-2">
<h2 id="l-gica-temporal-1">Lógica temporal</h2>
<div class="outline-text-2" id="text-l-gica-temporal-1">
</div>
<div id="outline-container-quest-o-3-2" class="outline-3">
<h3 id="quest-o-3-2">Questão 3</h3>
<div class="outline-text-3" id="text-quest-o-3-2">
<p>
Dada uma fórmula temporal e uma execução, indique se a fórmula é verdadeira ou falsa para a execução. Ou seja, responda verdadeiro se a execução satisfaz a fórmula e falso caso não satisfaça. Considere que \(a\) e \(b\) são proposições.
</p>

<ol class="org-ol">
<li>Fórmula: \(X(b)\)
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> \([b], [b], [a]\)</li>
<li class="off"><code>[&#xa0;]</code> \([a], [b], [a]\)</li>
<li class="off"><code>[&#xa0;]</code> \([a], [a], [b]\)</li>
</ul></li>
<li>Fórmula: \(a -> b\)
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> \([a], [a], [a]\)</li>
<li class="off"><code>[&#xa0;]</code> \([a], [b], [a]\)</li>
<li class="off"><code>[&#xa0;]</code> \([a, b], [a], [a]\)</li>
<li class="off"><code>[&#xa0;]</code> \([b], [a], [a]\)</li>
</ul></li>
<li>Fórmula: \(F(a)\)
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> \([a], [a], [a]\)</li>
<li class="off"><code>[&#xa0;]</code> \([b], [a], [b]\)</li>
</ul></li>
</ol>

<details>
<summary><b>[Resposta]</b></summary>

<ol class="org-ol">
<li>Fórmula: \(X(b)\)
<ul class="org-ul">
<li>[V] \([b], [b], [a]\)</li>
<li>[V] \([a], [b], [a]\)</li>
<li>[F] \([a], [a], [b]\)</li>
</ul></li>
<li>Fórmula: \(a -> b\)
<ul class="org-ul">
<li>[F] \([a], [a], [a]\)</li>
<li>[F] \([a], [b], [a]\)</li>
<li>[V] \([a, b], [a], [a]\)</li>
<li>[V] \([b], [a], [a]\)</li>
</ul></li>
<li>Fórmula: \(F(a)\)
<ul class="org-ul">
<li>[V] \([a], [a], [a]\)</li>
<li>[V] \([b], [a], [b]\)</li>
</ul></li>
</ol>
</details>
</div>
</div>
<div id="outline-container-quest-o-4-2" class="outline-3">
<h3 id="quest-o-4-2">Questão 4</h3>
<div class="outline-text-3" id="text-quest-o-4-2">
<p>
Explique a diferença entre LTL (Lógica Temporal Linear) e CTL (Lógica de árvore computacional - <i>Computational Tree Logic</i>).
</p>
<details>
<summary><b>[Resposta]</b></summary>

<p>
A representação de árvore da CTL permite que usemos quantificações existenciais com nossas fórmulas temporais: existe alguma execução onde eventualmente X. Já na LTL, todas as fórmulas são implicitamente universalmente quantificadas, e isso não é possível. Essa diferença faz com que existam fórmulas na LTL que não podem ser espressadas em CTL e fórmulas na CTL que não podem ser espressadas na LTL.
</p>
</details>
</div>
</div>
</div>
<div id="outline-container-propriedades-e-suposi-es-1" class="outline-2">
<h2 id="propriedades-e-suposi-es-1">Propriedades e Suposições</h2>
<div class="outline-text-2" id="text-propriedades-e-suposi-es-1">
</div>
<div id="outline-container-quest-o-5-2" class="outline-3">
<h3 id="quest-o-5-2">Questão 5</h3>
<div class="outline-text-3" id="text-quest-o-5-2">
<p>
Assinale as fórmulas abaixo com [V] (verdadeiro) se a propriedade pode ser espressa com uma invariante ou [F] (falso) caso seja preciso uma fórmua temporal. Lembre-se que não importa se a fórmula é verdadeira ou falsa.
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Para cada compra no cartão de crédito, vem uma cobrança na fatura ao final do mês.</li>
<li class="off"><code>[&#xa0;]</code> Nunca vou para a academia sem meus fones de ouvido</li>
<li class="off"><code>[&#xa0;]</code> Em algum momento vou terminar de pagar as parcelas do meu apartamento</li>
<li class="off"><code>[&#xa0;]</code> Sempre uso óculos para dirigir</li>
<li class="off"><code>[&#xa0;]</code> Não é possível estar na aula e no shopping ao mesmo tempo</li>
<li class="off"><code>[&#xa0;]</code> Todos os códigos em C++ serão migrados para Rust</li>
</ul>
<details>
<summary><b>[Resposta]</b></summary>
<ul class="org-ul">
<li>[F] Para cada compra no cartão de crédito, vem uma cobrança na fatura ao final do mês.</li>
<li>[V] Nunca vou para a academia sem meus fones de ouvido</li>
<li>[F] Em algum momento vou terminar de pagar as parcelas do meu apartamento</li>
<li>[V] Sempre uso óculos para dirigir</li>
<li>[V] Não é possível estar na aula e no shopping ao mesmo tempo</li>
<li>[F] Todos os códigos em C++ serão migrados para Rust</li>
</ul>
</details>
</div>
</div>
<div id="outline-container-quest-o-6-2" class="outline-3">
<h3 id="quest-o-6-2">Questão 6</h3>
<div class="outline-text-3" id="text-quest-o-6-2">
<p>
Leia a contextualização e responda:
</p>
<blockquote>
<p>
Estou vendendo peças de computador e contrato uma transportadora para fazer as entregas. Essas peças são frágeis, e podem quebrar se não forem transportadas de maneira adequada. A caixa não pode ser virada (a mesma face deve permanecer para cima durante todo o transporte), e não pode se mover no baú do caminhão. Para ter certeza de que a transportadora está fazendo seu serviço corretamente, instalei câmeras internas nos baús dos caminhões que me enviam fotos a cada 5 minutos. Agora, só preciso analisar essas fotos e determinar se a transportadora cumpre os requisitos.
</p>
</blockquote>

<p>
Considerando uma execução dada pela sequência de fotos enviadas, escreva propriedades de segurança e vivacidade que digam sobre a qualidade do serviço da transportadora. Informe o tipo (invariante/temporal e segurança/vivacidade) de cada propriedade. Liste também que tipo de suposições estão sendo feitas para viabilizar essa análise.
</p>

<details>
<summary><b>[Resposta]</b></summary>
<p>
Propriedades:
</p>
<ul class="org-ul">
<li>Invariante de segurança: a face de cima da caixa está para cima</li>
<li>Temporal de segurança: sempre (a posição da caixa no próximo estado é a mesma que no estado atual ou ela é retirada pra entrega)</li>
<li>Temporal de vivacidade: eventualmente a caixa é retirada para entrega</li>
</ul>

<p>
Suposições:
</p>
<ul class="org-ul">
<li>é possível determinar a posição da caixa em cada foto</li>
<li>é possível determinar se a face correta da caixa está pra cima</li>
<li>se a caixa for retirada, é por conta de uma entrega</li>
</ul>
</details>
</div>
</div>
<div id="outline-container-quest-o-7-2" class="outline-3">
<h3 id="quest-o-7-2">Questão 7</h3>
<div class="outline-text-3" id="text-quest-o-7-2">
<p>
Alice e Bob estavam combinando de se encontrar e Alice mandou a seguinte mensagem para Bob: &ldquo;Encontre-me as 15h na cafeteria Café Quentinho&rdquo;. Ao fazer essa comunicação, Alice estava supondo algumas coisas. Descreva qual suposição de Alice estava errada para cada um dos cenários a seguir.
</p>
<ol class="org-ol">
<li><p>
Bob não apareceu. A bateria do celular dele acabou antes que visse a mensagem de Alice.
Responda: Alice assumiu que &#x2026;
</p>
<details>
<summary><b>[Resposta]</b></summary>

<p>
Alice assumiu que Bob havia recebido a mensagem dela.
</p>
</details></li>
<li><p>
Bob foi em outro Café Quentinho - acontece que havia outra cafeteria com esse nome em outro bairro.
Responda: Alice assumiu que &#x2026;
</p>
<details>
<summary><b>[Resposta]</b></summary>

<p>
Alice assumiu que havia apenas uma &ldquo;Café Quentinho&rdquo; na cidade
</p>
</details></li>
<li><p>
Quando Alice chegou, o Bob já estava lá por uma hora. Ele havia esquecido de ajustar seu relógio no fim do horário de verão.
Responda: Alice assumiu que &#x2026;
</p>
<details>
<summary><b>[Resposta]</b></summary>

<p>
Alice assumiu que o relógio de Bob estava no mesmo horário que o dela.
</p>
</details></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-perguntas-gerais-1" class="outline-2">
<h2 id="perguntas-gerais-1">Perguntas gerais</h2>
<div class="outline-text-2" id="text-perguntas-gerais-1">
</div>
<div id="outline-container-quest-o-8-2" class="outline-3">
<h3 id="quest-o-8-2">Questão 8</h3>
<div class="outline-text-3" id="text-quest-o-8-2">
<p>
Suponha que temos um modelo e uma propriedade que é violada numa execução de 5 passos. Considere que estamos usando um simulador aleatório com até 10.000 amostras e 10 passos, e um <i>model checker</i> com até 10 passos. Assinale com verdadeiro ou falso <b>e justifque sua resposta</b>.
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> O simulador irá encontar um contraexemplo para propriedades</li>
<li class="off"><code>[&#xa0;]</code> O <i>model checker</i> encontrará um contraexemplo de 5 passos</li>
<li class="off"><code>[&#xa0;]</code> O <i>model checker</i> demorará mais tempo que o simulador para responder</li>
<li class="off"><code>[&#xa0;]</code> O simulador demorará mais tempo que o <i>model checker</i> para responder</li>
<li class="off"><code>[&#xa0;]</code> O <i>model checker</i> poderá finalizar a execução sem encontrar o contraexemplo</li>
<li class="off"><code>[&#xa0;]</code> O simulador pode encontrar um contraexemplo de 9 passos</li>
</ul>

<details>
<summary><b>[Resposta]</b></summary>

<ul class="org-ul">
<li>[F] O simulador irá encontar um contraexemplo para propriedades</li>
<li>[V] O <i>model checker</i> encontrará um contraexemplo de 5 passos</li>
<li>[F] O <i>model checker</i> demorará mais tempo que o simulador para responder</li>
<li>[F] O simulador demorará mais tempo que o <i>model checker</i> para responder</li>
<li>[F] O <i>model checker</i> poderá finalizar a execução sem encontrar o contraexemplo</li>
<li>[V] O simulador pode encontrar um contraexemplo de 9 passos</li>
</ul>
</details>
</div>
</div>
</div>
<div id="outline-container-tla-e-quint-1" class="outline-2">
<h2 id="tla-e-quint-1">TLA+ e Quint</h2>
<div class="outline-text-2" id="text-tla-e-quint-1">
</div>
<div id="outline-container-quest-o-9-2" class="outline-3">
<h3 id="quest-o-9-2">Questão 9</h3>
<div class="outline-text-3" id="text-quest-o-9-2">
<p>
Dada uma especificação simples, escreva uma breve descrição do que ela faz. Observe o seguinte exemplo:
Quint:
</p>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">var</span> x: <span class="org-type">int</span>

<span class="org-builtin">action</span> init = x' = 0

<span class="org-builtin">action</span> step = x' = <span class="org-keyword">if</span> (x &lt; 10) x + 1 <span class="org-keyword">else</span> x
</pre>
</div>

<p>
TLA+:
</p>
<div class="org-src-container">
<pre class="src src-tla"><span class="org-keyword">VARIABLE</span> x

Init == x = <span class="org-highlight-numbers-number">0</span>

Next == x' = <span class="org-keyword">IF</span> (x &lt; <span class="org-highlight-numbers-number">10</span>) <span class="org-keyword">THEN</span> x + <span class="org-highlight-numbers-number">1</span> <span class="org-keyword">ELSE</span> x
</pre>
</div>

<p>
Poderíamos descrever como: Um modelo onde x começa em zero e é incrementado até chegar a 10, com incrementos de tamanho 1. Ao chegar a 10, x permanece com o mesmo valor pra sempre
</p>

<p>
Agora, responda com uma descrição para cada especificação abaixo:
</p>
</div>
<div id="outline-container-especifica-o-a-3" class="outline-4">
<h4 id="especifica-o-a-3">Especificação A</h4>
<div class="outline-text-4" id="text-especifica-o-a-3">
<p>
Quint:
</p>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">var</span> x: <span class="org-type">int</span>

<span class="org-builtin">action</span> init = x' = 0

<span class="org-builtin">action</span> step = <span class="org-keyword">any</span> {
  <span class="org-keyword">all</span> {
    x &lt; 5,
    x' = x + 1
  },
  <span class="org-keyword">all</span> {
    x &gt; -5,
    x' = x - 1
  }
}
</pre>
</div>

<p>
TLA+
</p>
<div class="org-src-container">
<pre class="src src-tla"><span class="org-keyword">VARIABLE</span> x

Init == x = <span class="org-highlight-numbers-number">0</span>

Next ==
  \/ /\ x &lt; <span class="org-highlight-numbers-number">5</span>
     /\ x' = x + <span class="org-highlight-numbers-number">1</span>
  \/ /\ x &gt; -5
     /\ x' = x - <span class="org-highlight-numbers-number">1</span>

</pre>
</div>

<details>
<summary><b>[Resposta]</b></summary>

<p>
Um modelo onde x começa em zero e pode ser incrementado em 1 caso seja menor que 5, ou decrementado em 1 caso seja maior que -5. Ou seja, a cada passo x terá seu valor modificado (mais um ou menos um) e permanecerá sempre entre -5 e 5.
</p>
</details>
</div>
</div>
<div id="outline-container-especifica-o-b-3" class="outline-4">
<h4 id="especifica-o-b-3">Especificação B</h4>
<div class="outline-text-4" id="text-especifica-o-b-3">
<p>
Quint:
</p>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">var</span> x: <span class="org-type">int</span>

<span class="org-builtin">action</span> init = x' = 1

<span class="org-builtin">action</span> step = {
  <span class="org-builtin">nondet</span> v = 1.to(10).oneOf()
  <span class="org-keyword">all</span> {
    x != v,
    x' = v
  }
}
</pre>
</div>

<p>
TLA+:
</p>
<div class="org-src-container">
<pre class="src src-tla"><span class="org-keyword">VARIABLE</span> x

Init == x = <span class="org-highlight-numbers-number">1</span>

Next == \E v \in <span class="org-highlight-numbers-number">1</span>..<span class="org-highlight-numbers-number">10</span>:
  /\ x /= v
  /\ x' = v
</pre>
</div>

<details>
<summary><b>[Resposta]</b></summary>

<p>
Um modelo onde x começa em 1 e a cada passo recebe um novo valor, diferente do atual, entre 1 e 10.
</p>
</details>
</div>
</div>
</div>
<div id="outline-container-quest-o-10-2" class="outline-3">
<h3 id="quest-o-10-2">Questão 10</h3>
<div class="outline-text-3" id="text-quest-o-10-2">
<p>
Considere o modelo a seguir:
</p>

<p>
Quint:
</p>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">var</span> x: <span class="org-type">int</span>

<span class="org-builtin">action</span> init = x' = 10

<span class="org-builtin">action</span> step = <span class="org-keyword">any</span> {
  <span class="org-keyword">all</span> {
    x &lt; 20,
    x % 2 == 0,
    x' = x + 3
  },
  <span class="org-keyword">all</span> {
    x &gt; 5,
    x' = x - 1
  }
}
</pre>
</div>

<p>
TLA+:
</p>
<div class="org-src-container">
<pre class="src src-tla"><span class="org-keyword">VARIABLE</span> x

Init == x = <span class="org-highlight-numbers-number">10</span>

Next ==
  \/ /\ x &lt; <span class="org-highlight-numbers-number">20</span>
     /\ x % <span class="org-highlight-numbers-number">2</span> = <span class="org-highlight-numbers-number">0</span>
     /\ x' = x + <span class="org-highlight-numbers-number">3</span>
  \/ /\ x &gt; <span class="org-highlight-numbers-number">5</span>
     /\ x' = x - <span class="org-highlight-numbers-number">1</span>
</pre>
</div>

<p>
Para cada execução a seguir, assinale verdadeiro se o modelo permite a execução e falso caso contrário. Quando responder falso, <b>justifique sua resposta</b>.
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> <code>x: 7, x: 6, x: 9, x: 8</code></li>
<li class="off"><code>[&#xa0;]</code> <code>x: 10, x: 13, x: 12, x: 11, x: 10</code></li>
<li class="off"><code>[&#xa0;]</code> <code>x: 10, x: 9, x: 8, x: 11</code></li>
<li class="off"><code>[&#xa0;]</code> <code>x: 10, x: 9, x: 12, x: 15</code></li>
</ul>

<details>
<summary><b>[Resposta]</b></summary>

<ul class="org-ul">
<li>[F] <code>x: 7, x: 6, x: 9, x: 8</code>
<ul class="org-ul">
<li>x não pode ser 7 no estado inicial. Deve ser 10.</li>
</ul></li>
<li>[V] <code>x: 10, x: 13, x: 12, x: 11, x: 10</code></li>
<li>[V] <code>x: 10, x: 9, x: 8, x: 11</code></li>
<li>[F] <code>x: 10, x: 9, x: 12, x: 15</code>
<ul class="org-ul">
<li>não podemos somar 3 ao 9 para chegar em 12, porque uma das pré-condições para somar 3 é que x seja divisível por 2, e 9 não é.</li>
</ul></li>
</ul>
</details>
</div>
</div>
<div id="outline-container-quest-o-11-2" class="outline-3">
<h3 id="quest-o-11-2">Questão 11</h3>
<div class="outline-text-3" id="text-quest-o-11-2">
<p>
O operador primed (<code>'</code>) permite que escrevamos predicados sobre o próximo estado. Assinale verdadeiro se o operador primed está sendo usado corretamente, ou falso se o uso resultará em um erro. Caso responder falso, <b>justifique sua resposta</b>. Considere que x e y são variáveis. As respostas para Quint ou TLA+ são as mesmas, responda apenas uma delas.
</p>

<p>
Quint:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> <code>all { x' = 1, x' = 2 }</code></li>
<li class="off"><code>[&#xa0;]</code> <code>any { x' = 1, x' = 2 }</code></li>
<li class="off"><code>[&#xa0;]</code> <code>all { x' = 1, y' = 2 }</code></li>
<li class="off"><code>[&#xa0;]</code> <code>any { x' = 1, y' = 2 }</code></li>
</ul>

<p>
TLA+:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> <code>x' = 1 /\ x' = 2</code></li>
<li class="off"><code>[&#xa0;]</code> <code>x' = 1 \/ x' = 2</code></li>
<li class="off"><code>[&#xa0;]</code> <code>x' = 1 /\ y' = 2</code></li>
<li class="off"><code>[&#xa0;]</code> <code>x' = 1 \/ y' = 2</code></li>
</ul>

<details>
<summary><b>[Resposta]</b></summary>

<p>
Quint:
</p>
<ul class="org-ul">
<li>[F] <code>all { x' = 1, x' = 2 }</code>
<ul class="org-ul">
<li>x é atualizado duas vezes na mesma ação</li>
</ul></li>
<li>[V] <code>any { x' = 1, x' = 2 }</code></li>
<li>[V] <code>all { x' = 1, y' = 2 }</code></li>
<li>[F] <code>any { x' = 1, y' = 2 }</code>
<ul class="org-ul">
<li>atualização desbalanceada: em uma das ramificações apenas x é atualizado, e em outra apenas y</li>
</ul></li>
</ul>

<p>
TLA+:
</p>
<ul class="org-ul">
<li>[F] <code>x' = 1 /\ x' = 2</code>
<ul class="org-ul">
<li>x é atualizado duas vezes na mesma ação</li>
</ul></li>
<li>[V] <code>x' = 1 \/ x' = 2</code></li>
<li>[V] <code>x' = 1 /\ y' = 2</code></li>
<li>[F] <code>x' = 1 \/ y' = 2</code>
<ul class="org-ul">
<li>atualização desbalanceada: em uma das ramificações apenas x é atualizado, e em outra apenas y</li>
</ul></li>
</ul>
</details>
</div>
</div>
<div id="outline-container-quest-o-12-2" class="outline-3">
<h3 id="quest-o-12-2">Questão 12</h3>
<div class="outline-text-3" id="text-quest-o-12-2">
<p>
Agora escreva a propriedade em Quint ou em TLA+ para:
</p>

<ol class="org-ol">
<li>&ldquo;Não é possível estar na aula e no shopping ao mesmo tempo&rdquo;. Considere que existam duas variáveis de estado do tipo <code>bool</code>: <code>na_aula</code> e <code>no_shopping</code>.</li>
<li>&ldquo;Sempre uso óculos para dirigir&rdquo;. Considere que existam duas variáveis de estado do tipo <code>bool</code>: <code>estou_dirigindo</code> e <code>estou_de_oculos</code>.</li>
<li>&ldquo;Em algum momento vou terminar de pagar as parcelas do meu apartamento&rdquo;. Considere que exista uma variável de estado do tipo <code>int</code> para o número restante de parcelas: <code>parcelas_restantes</code>.</li>
<li>[desafio] &ldquo;Todos os códigos em C++ serão migrados para Rust&rdquo;. Considere que exista uma variável <code>codigos</code> do tipo <code>int -&gt; { codigo: str, linguagem: str }</code> sendo a chave (domínio) um identificador único daquele código e o campo <code>linguagem</code> pode conter <code>"c++"</code>, <code>"haskell"</code> ou <code>"rust"</code>.</li>
</ol>

<details>
<summary><b>[Resposta]</b></summary>
<ol class="org-ol">
<li><code>not(na_aula) or not(no_shopping)</code></li>
<li><code>estou_dirigindo implies estou_de_oculos</code></li>
<li><code class="src src-quint">eventually(parcelas_restantes == 0)</code></li>
<li><code class="src src-quint">codigos.keys().forall(k =&gt; codigos.get(k).linguagem == <span class="org-string">"c++"</span> <span class="org-keyword">implies</span> eventually(codigos.get(k).linguagem == <span class="org-string">"rust"</span>))</code></li>
</ol>
</details>
</div>
</div>
<div id="outline-container-quest-o-13-2" class="outline-3">
<h3 id="quest-o-13-2">Questão 13</h3>
<div class="outline-text-3" id="text-quest-o-13-2">
<p>
Considere um simples jogo de maior dado com dois jogadores, em que cada um rola um dado de 6 faces. Se o dado do jogador 1 for maior do que o do jogador 2, o jogador 1 vence e o jogador 2 perde - e vice versa. Se os dados são iguais, eles jogam novamente até desempatar. Responda às seguintes questões:
</p>

<div class="minipage">
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">type</span> Status =
  Pendente | Venceu(<span class="org-type">int</span>)

<span class="org-builtin">var</span> dado1: <span class="org-type">int</span>
<span class="org-builtin">var</span> dado2: <span class="org-type">int</span>
<span class="org-builtin">var</span> status: Status

<span class="org-builtin">action</span> init = {
  <span class="org-builtin">nondet</span> d1 = 1.to(6).oneOf()
  <span class="org-builtin">nondet</span> d2 = 1.to(6).oneOf()
  <span class="org-keyword">all</span> {
    dado1' = d1,
    dado2' = d2,
    status' = (???)
  }
}

<span class="org-builtin">action</span> step = {
  <span class="org-keyword">if</span> (status == Pendente) {
    init
  } <span class="org-keyword">else</span> {
    <span class="org-keyword">all</span> {
      dado1' = dado1,
      dado2' = dado2,
      status' = status,
    }
  }
}
</pre>
</div>

</div>
<div class="minipage">
<div class="org-src-container">
<pre class="src src-tla"><span class="org-keyword">EXTENDS</span> Integers, FiniteSets
<span class="org-keyword">VARIABLES</span> dado1, dado2, status

Init ==
  \E d1 \in <span class="org-highlight-numbers-number">1</span>..<span class="org-highlight-numbers-number">6</span>:
     \E d2 \in <span class="org-highlight-numbers-number">1</span>..<span class="org-highlight-numbers-number">6</span>:
       /\ dado1 = d1
       /\ dado2 = d2
       /\ status = (???)

Next ==
  <span class="org-keyword">IF</span> (status = <span class="org-string">"pendente"</span>) <span class="org-keyword">THEN</span>
    \E d1 \in <span class="org-highlight-numbers-number">1</span>..<span class="org-highlight-numbers-number">6</span>:
       \E d2 \in <span class="org-highlight-numbers-number">1</span>..<span class="org-highlight-numbers-number">6</span>:
         /\ dado1' = d1
         /\ dado2' = d2
         /\ status' = (???)
  <span class="org-keyword">ELSE</span>
    /\ dado1' = dado1
    /\ dado2' = dado2
    /\ status' = status
</pre>
</div>

</div>

<ol class="org-ol">
<li><p>
Escreva a expressão que deveria estar em <code>(???)</code>. PS: Em TLA+, ele aparece duas vezes, mas a expressão em ambos os casos é a mesma.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
Quint: <code>if (d1 &gt; d2) Venceu(1) else if (d2 &gt; d1) Venceu(2) else Pendente</code>
ou
TLA+: <code>IF d1 &gt; d1 THEN "1 venceu" ELSE IF d2 &gt; d1 THEN "2 venceu" ELSE "pendente"</code>
</p>
</details></li>

<li><p>
Escreva uma invariante para &ldquo;O jogador 1 não perde&rdquo;. Essa invariante é satisfeita nesse modelo? <b>Justifique</b>.
</p>
<details>
<summary><b>[Resposta]</b></summary>

<p>
<code class="src src-quint">dado1 &gt;= dado2</code>
ou
<code class="src src-quint">status != Venceu(2)</code> (Quint) / <code>status # "2 venceu"</code> (TLA+)
</p>
</details></li>
<li><p>
Escreva outras duas invariantes quaisquer sobre as variáveis desse modelo. Uma delas deve ser satisfeita nesse modelo, e outra não. Indique qual é satisfeita e qual não é.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
Satisfeita: <code class="src src-quint">dado1 + dado2 &lt; 20</code>
Insatisfeita: <code class="src src-quint">dado1 &gt; 2</code>
</p>
</details></li>

<li><p>
Escreva uma propriedade temporal de vivacidade para esse jogo. Ela deve ser satisfeita. Considere que razoabilidade já foi devidamente assumida.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
<code class="src src-quint">eventually(dado1 != dado2)</code> / <code>&lt;&gt;(dado1 # dado2)</code>
</p>
</details></li>
<li><p>
Esse modelo se classifica como uma estrutura de Kripke? <b>Justifique</b>.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
Sim, pois cada estado tem ao menos uma possível transição (a relação de transição é total).
</p>
</details></li>
</ol>
</div>
</div>
<div id="outline-container-quest-o-14-2" class="outline-3">
<h3 id="quest-o-14-2">Questão 14</h3>
<div class="outline-text-3" id="text-quest-o-14-2">
<p>
Observe as epecificações a seguir e responda às perguntas.
</p>

<div class="minipage">
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">var</span> x: <span class="org-type">int</span>

<span class="org-builtin">action</span> init = {
  <span class="org-builtin">nondet</span> v = <span class="org-type">Set</span>(1, 5).oneOf()
  x' = v
}

<span class="org-builtin">action</span> step = <span class="org-keyword">any</span> {
  <span class="org-keyword">all</span> {
    x == 5,
    x' = 4,
  },
  <span class="org-keyword">all</span> {
    x &lt; 3,
    x' = 2,
  },
  <span class="org-keyword">all</span> {
    x &lt; 5,
    x' = x,
  }
}
</pre>
</div>

</div>
<div class="minipage">
<div class="org-src-container">
<pre class="src src-tla"><span class="org-keyword">VARIABLE</span> x

Init == x \in {<span class="org-highlight-numbers-number">1</span>, <span class="org-highlight-numbers-number">5</span>}

Next ==
  \/ /\ x = <span class="org-highlight-numbers-number">5</span>
     /\ x' = <span class="org-highlight-numbers-number">4</span>
  \/ /\ x &lt; <span class="org-highlight-numbers-number">3</span>
     /\ x' = <span class="org-highlight-numbers-number">2</span>
  \/ /\ x &lt; <span class="org-highlight-numbers-number">5</span>
     /\ x' = x
</pre>
</div>

</div>

<ol class="org-ol">
<li><p>
Defina uma estrutura de Kripke para esse modelo. Todos os estados da estrutura devem ser alcançáveis.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
(S, -&gt;, I) tal que:
</p>

<p>
S = {1, 2, 4, 5}
</p>

<p>
-&gt; = {1 -&gt; 1, 1 -&gt; 2, 2 -&gt; 2, 4 -&gt; 4, 5 -&gt; 4}
</p>

<p>
I = {1, 5}
</p>
</details></li>
<li><p>
Essa estrutura de Kripke é determinística ou não-determinística? <b>Justifique</b> sua resposta para cada estado/regra.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
Não-determinística, pois \(Post(1) = \{1, 2\}\) e \(|I| = 2\)
</p>
</details></li>
<li><p>
Essa estrutura de Kripke é finita? <b>Justifique</b> sua resposta.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
Finita, porque o número de estados é finito.
</p>
</details></li>
<li><p>
Quais são os estados terminais dessa estrutura de Kripke?
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
2 e 4
</p>
</details></li>
<li><p>
Qual a pré-condição da ação de próximo estado (<code>step</code> em Quint ou <code>Next</code> em TLA+)?
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
<code class="src src-quint">x &lt;= 5</code>
</p>
</details></li>
<li><p>
Modifique o modelo (Quint ou TLA+) para que haja transições do estado onde <code>x</code> é <code>2</code> para todos os estados da estrutura de Kripke.
</p>
<details>
<summary><b>[Resposta]</b></summary>
<p>
Quint:
</p>
<div class="org-src-container">
<pre class="src src-quint">   <span class="org-builtin">action</span> step = <span class="org-keyword">any</span> {
     ...,
     <span class="org-keyword">all</span> {
       x == 2,
       <span class="org-builtin">nondet</span> v = <span class="org-type">Set</span>(1, 2, 4, 5).oneOf()
       x' = v
     }
   }
</pre>
</div>

<p>
TLA+:
</p>
<div class="org-src-container">
<pre class="src src-tla">   Next ==
     \/ ...
     \/ /\ x == <span class="org-highlight-numbers-number">2</span>
        /\ \E v \in {<span class="org-highlight-numbers-number">1</span>, <span class="org-highlight-numbers-number">2</span>, <span class="org-highlight-numbers-number">4</span>, <span class="org-highlight-numbers-number">5</span>} : x' = v
</pre>
</div>
</details></li>
</ol>
</div>
</div>
</div>

            </div>
        </div>
    </body>
</html>
