<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Personal homepage exported with org-thtml">

  <title>Primeiras Especificações</title>
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

  <meta property="og:url" content="https://bugarela.com/mfo/20240322161707-mfo_primeiras_especificacoes.html" />
  <meta property="og:title" content="Primeiras Especificações" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Personal homepage exported with org-thtml" />
  
  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@bugarela">
    <meta name="twitter:title" content="Primeiras Especificações">
    <meta name="twitter:description" content="Personal homepage exported with org-thtml">
  

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lunr-languages@1.14.0/min/lunr.stemmer.support.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lunr-languages@1.14.0/min/lunr.pt.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.1/pure-min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.1/grids-responsive-min.css">
<link rel="stylesheet" href="../css/layouts/style.css">

    </head>
    <body>
        <div id="layout" class="pure-g">
            <div class="sidebar pure-u-1 pure-u-md-1-5" style="text-align: center">
    <div class="header">
        <h2 class="brand-title">
            <a href="../"><i class="fas fa-home"></i> Gabriela Moreira</a>
        </h2>
    </div>
    <div class="centered">
        <h1 class="huge"><i class="fas fa-folder-open"></i></h1>
        <h1 class="huge"><a href="./">MFO</a></h1>
        <h2 class="brand-title">Métodos Formais</h2>
        <h2 class="brand-tagline">Materiais da disciplina</h2>
    </div>
    <div class="footer">
    <div>
        Created using Emacs and
        <a href="https://github.com/juanjosegarciaripoll/org-thtml">org-mode</a
        >.<br />
        Style from
        <a href="https://owickstrom.github.io/the-monospace-web/"
            >The Monospace Web</a
        >.
    </div>
</div>

</div>

            <div class="content pure-u-1 pure-u-md-2-3">
                
                <h1>Primeiras Especificações</h1>
                 <a href="https://bugarela.com/mfo/slides/20240322161707-mfo_primeiras_especificacoes.pdf">Slides</a><br />
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#repl-1">1. REPL</a>
<ul>
<li><a href="#usando-a-repl-2">1.1. Usando a REPL</a></li>
<li><a href="#ps-defini-es-aninhadas-2">1.2. PS: Definições aninhadas</a></li>
</ul>
</li>
<li><a href="#a-es-em-quint-1">2. Ações em Quint</a>
<ul>
<li><a href="#a-es-2">2.1. Ações</a></li>
<li><a href="#all-e-any-2">2.2. all e any</a></li>
<li><a href="#nondet-e-oneof-2">2.3. nondet e oneOf</a></li>
<li><a href="#if-tamb-m-pode-ser-usado-em-a-es-2">2.4. if também pode ser usado em ações</a></li>
<li><a href="#balanceamento-de-atualiza-es-2">2.5. Balanceamento de atualizações</a></li>
<li><a href="#exemplos-desbalanceados-2">2.6. Exemplos desbalanceados</a></li>
<li><a href="#exemplos-com-m-ltiplas-atualiza-es-da-mesma-vari-vel-2">2.7. Exemplos com múltiplas atualizações da mesma variável</a></li>
</ul>
</li>
<li><a href="#modos-de-quint-1">3. Modos de Quint</a>
<ul>
<li><a href="#modos-de-quint-2">3.1. Modos de Quint</a></li>
<li><a href="#defini-o-dos-modos-2">3.2. Definição dos modos</a></li>
</ul>
</li>
<li><a href="#jarros-de-gua-1">4. Jarros de Água</a>
<ul>
<li><a href="#exerc-cio-jarros-de-gua-2">4.1. Exercício - Jarros de Água</a></li>
<li><a href="#vari-veis-2">4.2. Variáveis</a></li>
<li><a href="#acoes-2-2">4.3. Ações</a></li>
<li><a href="#estado-inicial-2">4.4. Estado inicial</a></li>
<li><a href="#tentando-resolver-na-repl-2">4.5. Tentando resolver na REPL</a></li>
<li><a href="#a-o-de-pr-ximo-estado-e-invariante-2">4.6. Ação de próximo estado e invariante</a></li>
<li><a href="#encontrando-um-contraexemplo-2">4.7. Encontrando um contraexemplo</a></li>
</ul>
</li>
<li><a href="#runs-1">5. Runs</a>
<ul>
<li><a href="#runs-2">5.1. Runs</a></li>
<li><a href="#definindo-uma-run-para-a-solu-o-dos-jarros-2">5.2. Definindo uma run para a solução dos jarros</a></li>
<li><a href="#rodando-runs-como-testes-2">5.3. Rodando runs como testes</a></li>
<li><a href="#invocando-runs-na-repl-2">5.4. Invocando runs na REPL</a></li>
<li><a href="#fim-2">5.5. FIM</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-repl-1" class="outline-2">
<h2 id="repl-1"><span class="section-number-2">1.</span> REPL</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-usando-a-repl-2" class="outline-3">
<h3 id="usando-a-repl-2"><span class="section-number-3">1.1.</span> Usando a REPL</h3>
<div class="outline-text-3" id="text-1-1">
<p>
x&rsquo; = x + 1 na REPL<br />
</p>
<div class="org-src-container">
<pre class="src src-quint">&gt;&gt;&gt; <span class="org-builtin">var</span> x: <span class="org-type">int</span>

&gt;&gt;&gt; x' = 0
<span class="org-constant">true</span>
&gt;&gt;&gt; x
0
&gt;&gt;&gt; <span class="org-builtin">action</span> step = x' = x + 1

&gt;&gt;&gt; step
<span class="org-constant">true</span>
&gt;&gt;&gt; step
<span class="org-constant">true</span>
&gt;&gt;&gt; x
2
</pre>
</div>
</div>
</div>
<div id="outline-container-ps-defini-es-aninhadas-2" class="outline-3">
<h3 id="ps-defini-es-aninhadas-2"><span class="section-number-3">1.2.</span> PS: Definições aninhadas</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Sempre podemos definir operadores, valores e ações dentro do próprio corpo de outra definição. Semelhante ao <code>let</code> do Haskell.<br />
</p>
<ul class="org-ul">
<li>Para isso, basta escrever a(s) definição(ões) seguidas por fim da expressão final a ser retornada.<br />
<ul class="org-ul">
<li>Sem separar com vírgula!<br /></li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">pure</span> <span class="org-builtin">def</span> f(x) = {
  <span class="org-builtin">pure</span> <span class="org-builtin">def</span> quadrado(y) = y * y
  <span class="org-builtin">pure</span> <span class="org-builtin">def</span> dobro(y) = 2 * y
  quadrado(x) + dobro(x)
}
</pre>
</div>

<p>
As chaves <code>{}</code> são opcionais, e você pode usar elas quando quiser pra deixar mais claro o escopo, por exemplo:<br />
</p>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">val</span> foo = <span class="org-builtin">pure</span> <span class="org-builtin">def</span> f(x) = 2 * x { f(5) }
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-a-es-em-quint-1" class="outline-2">
<h2 id="a-es-em-quint-1"><span class="section-number-2">2.</span> Ações em Quint</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-a-es-2" class="outline-3">
<h3 id="a-es-2"><span class="section-number-3">2.1.</span> Ações</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Ações são expressões booleanas que podem incluir o operador <i>primed</i> (<code>'</code>).<br />
</p>

<p>
Contudo, não podemos usar os operadores booleanos normais sobre essa expressão. Quint não permite isso para evitar possíveis confusões. Por exemplo, as seguintes operações <b>não</b> são permitidas:<br />
</p>
<ul class="org-ul">
<li><code>not(x' = 1)</code><br /></li>
<li><code>x' = 1 or x' = 2</code><br /></li>
<li><code>x' &gt; 1 and x' &lt; 2</code><br /></li>
<li><code>Set(1, 2, 3).exists(i ==&gt; x' = i)</code><br /></li>
</ul>

<p>
Os equivalentes em TLA+ são permitidos. Em Quint, somos forçados a escrever as ações de um jeito específico, de uma forma que elas não possam ser confundidas com não-ações.<br />
</p>
</div>
</div>
<div id="outline-container-all-e-any-2" class="outline-3">
<h3 id="all-e-any-2"><span class="section-number-3">2.2.</span> all e any</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li><p>
Em vez de <code>and</code>, usamos <code>all</code><br />
</p>
<div class="org-src-container">
<pre class="src src-quint">  <span class="org-builtin">action</span> incrementa_x_e_y = <span class="org-keyword">all</span> {
    x' = x + 1,
    y' = y + 1,
  }
</pre>
</div></li>
</ul>

<ul class="org-ul">
<li><p>
Em vez de <code>or</code>, usamos <code>any</code><br />
</p>
<div class="org-src-container">
<pre class="src src-quint">  <span class="org-builtin">action</span> incrementa_ou_decrementa_x = <span class="org-keyword">any</span> {
    x' = x + 1,
    x' = x - 1,
  }
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-nondet-e-oneof-2" class="outline-3">
<h3 id="nondet-e-oneof-2"><span class="section-number-3">2.3.</span> nondet e oneOf</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li><p>
Em vez de <code>exists</code>, usamos <code>nondet</code> e <code>oneOf</code><br />
</p>
<div class="org-src-container">
<pre class="src src-quint">  <span class="org-builtin">action</span> x_recebe_algum_valor = {
    <span class="org-builtin">nondet</span> valor = <span class="org-type">Set</span>(1, 2, 3).oneOf()
    x' = valor
  }
</pre>
</div></li>
</ul>

<ul class="org-ul">
<li><p>
Importante: O <code>oneOf</code> só pode ser usado nesse cenário (dentro de uma ação, em uma definição do tipo <code>nondet</code>, sem operações adicionais sobre ele).<br />
</p>
<ul class="org-ul">
<li>A syntaxe em Quint é dessa forma para deixar o não-determinismo explícito, mas na lógica (TLA), isso ainda é um <code>exists</code>.<br /></li>
</ul>
<ul class="org-ul">
<li>Por exemplo, não é possível usar o <code>oneOf</code> na implementação de uma função, i.e. para encontrar o máximo em um conjunto.<br /></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-if-tamb-m-pode-ser-usado-em-a-es-2" class="outline-3">
<h3 id="if-tamb-m-pode-ser-usado-em-a-es-2"><span class="section-number-3">2.4.</span> if também pode ser usado em ações</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li><p>
O <code>if</code> não tem uma versão especial pra ações. Usamos ele normalmente.<br />
</p>
<div class="org-src-container">
<pre class="src src-quint">  <span class="org-builtin">action</span> incrementa_x_se_par = {
    <span class="org-keyword">if</span> (x % 2 == 0) {
      x' = x + 1
    } <span class="org-keyword">else</span> {
      x' = x
    }
  }
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-balanceamento-de-atualiza-es-2" class="outline-3">
<h3 id="balanceamento-de-atualiza-es-2"><span class="section-number-3">2.5.</span> Balanceamento de atualizações</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Todas as ações em Quint devem ser devidamente balanceadas, e uma variável nunca pode ser atualizada mais de uma vez em uma mesma ação.<br />
</p>

<p>
Isso significa que:<br />
</p>
<ul class="org-ul">
<li>Todas as ações em um <code>any</code> devem atualizar as mesmas variáveis<br /></li>
</ul>
<ul class="org-ul">
<li>Em um <code>if</code>, os blocos <code>then</code> e <code>else</code> devem atualizar as mesmas variáveis<br /></li>
</ul>
<ul class="org-ul">
<li>Em um <code>all</code>, as variáveis atualizadas por cada ação não podem se repetir<br /></li>
</ul>

<p>
Essas restrições valem pra TLA+ também, mas em TLA+ isso só será detectado na hora de rodar o <i>model checker</i>. Em Quint, vocês vão ver sublinhados vermelhos no editor.<br />
</p>
</div>
</div>
<div id="outline-container-exemplos-desbalanceados-2" class="outline-3">
<h3 id="exemplos-desbalanceados-2"><span class="section-number-3">2.6.</span> Exemplos desbalanceados</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Os exemplos a seguir <b>não</b> são permitidos no Quint. PS: Para vê-los no editor, você precisa declarar as variáveis (<code>var x: int</code> e <code>var y: int</code>).<br />
</p>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">action</span> any_desbalanceado = <span class="org-keyword">any</span> {
  x' = 1,
  y' = 2,
}

<span class="org-builtin">action</span> if_desbalanceado = {
  <span class="org-keyword">if</span> (x &gt; 0) {
    x' = 1
  } <span class="org-keyword">else</span> {
    y' = 2
  }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-exemplos-com-m-ltiplas-atualiza-es-da-mesma-vari-vel-2" class="outline-3">
<h3 id="exemplos-com-m-ltiplas-atualiza-es-da-mesma-vari-vel-2"><span class="section-number-3">2.7.</span> Exemplos com múltiplas atualizações da mesma variável</h3>
<div class="outline-text-3" id="text-2-7">
<p>
Os exemplos a seguir <b>não</b> são permitidos no Quint.<br />
</p>
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">action</span> all_multiplas_atualizacoes = <span class="org-keyword">all</span> {
  x' = 1,
  x' = 2,
}

<span class="org-builtin">action</span> a1 = x' = 1
<span class="org-builtin">action</span> a2 = x' = 2
<span class="org-builtin">action</span> all_multiplas_atualizacoes = <span class="org-keyword">all</span> { a1, a2 }
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-modos-de-quint-1" class="outline-2">
<h2 id="modos-de-quint-1"><span class="section-number-2">3.</span> Modos de Quint</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-modos-de-quint-2" class="outline-3">
<h3 id="modos-de-quint-2"><span class="section-number-3">3.1.</span> Modos de Quint</h3>
<div class="outline-text-3" id="text-modos-de-quint-2">
<p>
Percebam como nas últimas aulas conversamos sobre coisas um tanto diferentes:<br />
</p>
<ul class="org-ul">
<li>Aula passada, definimos<br />
<ul class="org-ul">
<li><b>operadores</b> com <code>def</code> e <code>pure def</code><br /></li>
<li><b>valores</b> com <code>val</code> e <code>pure val</code><br /></li>
</ul></li>
<li>Nessa aula, usaremos ações com <code>action</code><br /></li>
</ul>
</div>
</div>
<div id="outline-container-defini-o-dos-modos-2" class="outline-3">
<h3 id="defini-o-dos-modos-2"><span class="section-number-3">3.2.</span> Definição dos modos</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Primeiramente, temos a diferença entre <code>val</code> e <code>def</code><br />
</p>
<ul class="org-ul">
<li><code>val</code> (ou <code>pure val</code>): Valores, onde não há nenhum parâmetro.<br /></li>
<li><code>def</code> (ou <code>pure def</code>): Operadores, onde há pelo menos um parâmetro.<br /></li>
</ul>

<p>
Esses são os <b>modos</b> das definições. Eles definem o tanto de acesso que as definições tem às variáveis.<br />
</p>
<ul class="org-ul">
<li><code>pure def</code> e <code>pure val</code>: Nenhum acesso. Como funções puras, onde o mesmo input vai sempre gerar o mesmo output.<br /></li>
<li><code>def</code> e <code>val</code>: Leitura.<br /></li>
<li><code>action</code>: Escrita e Leitura.<br /></li>
</ul>

<p>
Além destes, temos alguns modos adicionais:<br />
</p>
<ul class="org-ul">
<li><code>nondet</code>: Para declarações com não determinismo (que usam <code>oneOf</code>).<br /></li>
<li><code>temporal</code>: Para fórmulas temporais.<br /></li>
<li><code>run</code>: Para execuções mais específicas, permitindo operadores que ajudam a definir o passo a passo esperado.<br /></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-jarros-de-gua-1" class="outline-2">
<h2 id="jarros-de-gua-1"><span class="section-number-2">4.</span> Jarros de Água</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-exerc-cio-jarros-de-gua-2" class="outline-3">
<h3 id="exerc-cio-jarros-de-gua-2"><span class="section-number-3">4.1.</span> Exercício - Jarros de Água</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>Você tem dois jarros:<br />
<ol class="org-ol">
<li>um grande, com capacidade de 5 litros<br /></li>
<li>um pequeno, com capacidade de 3 litros<br /></li>
</ol></li>

<li>Você tem uma torneira de água com capacidade infinita<br /></li>
<li>Você pode descartar água a qualquer momento<br /></li>
<li>É possível, com precisão, ter uma medida de 4 litros de água?<br /></li>
</ul>
</div>
</div>
<div id="outline-container-vari-veis-2" class="outline-3">
<h3 id="vari-veis-2"><span class="section-number-3">4.2.</span> Variáveis</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-quint"><span class="org-builtin">module</span> jarros {
  <span class="org-builtin">var</span> grande: <span class="org-type">int</span>
  <span class="org-builtin">var</span> pequeno: <span class="org-type">int</span>

  ...
}
</pre>
</div>
</div>
</div>
<div id="outline-container-acoes-2-2" class="outline-3">
<h3 id="acoes-2-2"><span class="section-number-3">4.3.</span> Ações</h3>
<div class="outline-text-3" id="text-acoes-2-2">
<p>
Tente escrever as ações abaixo, definindo os valores para <code>grande</code> e <code>pequeno</code> em cada uma delas. Nenhuma dessas ações precisa de parâmetros.<br />
</p>
<div class="org-src-container">
<pre class="src src-quint">  <span class="org-builtin">action</span> enche_grande
  <span class="org-builtin">action</span> enche_pequeno
  <span class="org-builtin">action</span> esvazia_grande
  <span class="org-builtin">action</span> esvazia_pequeno
  <span class="org-builtin">action</span> grande_pro_pequeno
  <span class="org-builtin">action</span> pequeno_pro_grande
</pre>
</div>
</div>
</div>
<div id="outline-container-estado-inicial-2" class="outline-3">
<h3 id="estado-inicial-2"><span class="section-number-3">4.4.</span> Estado inicial</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">
<pre class="src src-quint">  <span class="org-builtin">action</span> init = <span class="org-keyword">all</span> {
    grande' = 0,
    pequeno' = 0,
  }
</pre>
</div>
</div>
</div>
<div id="outline-container-tentando-resolver-na-repl-2" class="outline-3">
<h3 id="tentando-resolver-na-repl-2"><span class="section-number-3">4.5.</span> Tentando resolver na REPL</h3>
<div class="outline-text-3" id="text-4-5">
<div class="org-src-container">
<pre class="src src-shell">quint -r jarros.qnt::jarros
</pre>
</div>

<p>
Comece com <code>init</code>, e verifique os valores de <code>grande</code> e <code>pequeno</code>. Depois, tente invocar as outras ações, lembrando que o objetivo é chegar em um estado onde um dos jarros tem 4 litros.<br />
</p>
</div>
</div>
<div id="outline-container-a-o-de-pr-ximo-estado-e-invariante-2" class="outline-3">
<h3 id="a-o-de-pr-ximo-estado-e-invariante-2"><span class="section-number-3">4.6.</span> Ação de próximo estado e invariante</h3>
<div class="outline-text-3" id="text-4-6">
<p>
Agora, vamos usar o <i>model checker</i> para encontrar a solução. Para isso, vamos definir:<br />
</p>
<ul class="org-ul">
<li><code>step</code>, a ação de próximo estado. A cada passo, podemos tomar qualquer uma das ações definidas.<br /></li>
<li><code>inv</code>, nossa invariante. Nesse caso, esperamos que a invariante seja quebrada, para obter nossa solução como contraexemplo.<br /></li>
</ul>

<div class="org-src-container">
<pre class="src src-quint">  <span class="org-builtin">action</span> step = <span class="org-keyword">any</span> {
    enche_grande,
    enche_pequeno,
    esvazia_grande,
    esvazia_pequeno,
    grande_pro_pequeno,
    pequeno_pro_grande,
  }

  <span class="org-builtin">val</span> inv = grande != 4
</pre>
</div>
</div>
</div>
<div id="outline-container-encontrando-um-contraexemplo-2" class="outline-3">
<h3 id="encontrando-um-contraexemplo-2"><span class="section-number-3">4.7.</span> Encontrando um contraexemplo</h3>
<div class="outline-text-3" id="text-4-7">
<div class="org-src-container">
<pre class="src src-quint">$ quint verify jarros.qnt --invariant=inv
An example execution:

[State 0] { grande: 0, pequeno: 0 }
[State 1] { grande: 5, pequeno: 0 }
[State 2] { grande: 2, pequeno: 3 }
[State 3] { grande: 2, pequeno: 0 }
[State 4] { grande: 0, pequeno: 2 }
[State 5] { grande: 5, pequeno: 2 }
[State 6] { grande: 4, pequeno: 3 }

[violation] Found an issue (156ms).
error: found a counterexample
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-runs-1" class="outline-2">
<h2 id="runs-1"><span class="section-number-2">5.</span> Runs</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-runs-2" class="outline-3">
<h3 id="runs-2"><span class="section-number-3">5.1.</span> Runs</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>Representação de uma <b>execução</b> finita.<br />
<ul class="org-ul">
<li>Pode ser uma execução concreta, ou<br /></li>
<li>Pode ter não determinismo, representando mais de uma execução<br /></li>
</ul></li>
<li>Descreve como reproduzir uma ou mais execuções, se possível<br /></li>
</ul>

<p>
Essa é uma feature exclusiva do Quint, e não há uma representação equivalente em TLA+.<br />
</p>
<ul class="org-ul">
<li>Em TLA+, só podemos usar o estado em si para determinar cada passo a ser dado.<br /></li>
<li>Em Quint, as runs permitem definir isso externamente, sem necessidade de manipular o estado.<br /></li>
</ul>

<p>
O propósito de runs está relacionado a testes, e não tem função alguma para o <i>model checker</i>.<br />
</p>
</div>
</div>
<div id="outline-container-definindo-uma-run-para-a-solu-o-dos-jarros-2" class="outline-3">
<h3 id="definindo-uma-run-para-a-solu-o-dos-jarros-2"><span class="section-number-3">5.2.</span> Definindo uma run para a solução dos jarros</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-quint">  run solution =
    init
      .then(enche_grande)
      .then(grande_pro_pequeno)
      .then(esvazia_pequeno)
      .then(grande_pro_pequeno)
      .then(enche_grande)
      .then(grande_pro_pequeno)
      .expect(grande == 4)
</pre>
</div>

<p>
Adicionando o <code>expect</code> no final, essa run também funciona como um teste<br />
</p>
</div>
</div>
<div id="outline-container-rodando-runs-como-testes-2" class="outline-3">
<h3 id="rodando-runs-como-testes-2"><span class="section-number-3">5.3.</span> Rodando runs como testes</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">
<pre class="src src-shell">quint test jarros.qnt --match solution

  jarros
    ok solution passed <span class="org-highlight-numbers-number">1</span> test<span class="org-rainbow-delimiters-depth-1">(</span>s<span class="org-rainbow-delimiters-depth-1">)</span>

  <span class="org-highlight-numbers-number">1</span> passing <span class="org-rainbow-delimiters-depth-1">(</span>12ms<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-invocando-runs-na-repl-2" class="outline-3">
<h3 id="invocando-runs-na-repl-2"><span class="section-number-3">5.4.</span> Invocando runs na REPL</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">
<pre class="src src-quint">$ quint -r jarros.qnt::jarros
&gt;&gt;&gt; solution
<span class="org-constant">true</span>
&gt;&gt;&gt; grande
4
&gt;&gt;&gt; pequeno
3
</pre>
</div>
</div>
</div>
<div id="outline-container-fim-2" class="outline-3">
<h3 id="fim-2"><span class="section-number-3">5.5.</span> FIM</h3>
<div class="outline-text-3" id="text-5-5">
</div>
</div>
</div>

            </div>
        </div>
    </body>
</html>
