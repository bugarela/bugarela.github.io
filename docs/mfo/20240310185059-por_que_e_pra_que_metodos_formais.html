<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Personal homepage exported with org-thtml">

  <title>Por que e pra que métodos formais?</title>
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

  <meta property="og:url" content="https://bugarela.com/mfo/20240310185059-por_que_e_pra_que_metodos_formais.html" />
  <meta property="og:title" content="Por que e pra que métodos formais?" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Personal homepage exported with org-thtml" />
  
    <meta property="og:image" content="https://bugarela.com/mfo/figures/correspondence_meme.jpg" />
    <meta property="og:image:width" content="1670" />
    <meta property="og:image:height" content="1670" />
  
  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@bugarela">
    <meta name="twitter:title" content="Por que e pra que métodos formais?">
    <meta name="twitter:description" content="Personal homepage exported with org-thtml">
  

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.1/pure-min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.1/grids-responsive-min.css">
<link rel="stylesheet" href="../css/layouts/style.css">

  </head>
  <body>
    <div id="layout" class="pure-g">
      <div class="sidebar pure-u-1 pure-u-md-1-3">
  <div class="pure-g">
    <div class="pure-u-1 pure-u-lg-1-2">
    </div>
    <div class="pure-u-1 pure-u-lg-1-2">
      <div class="header">
        <h2 class="brand-title"><a href="../"><i class="fas fa-home"></i> Gabriela Moreira</a></h2>
      </div>
      <div class="centered">
        <h1 class="huge"><i class="fas fa-folder-open"></i></h1>
        <h1 class="huge"><a href="./">MFO</a></h1>
        <h2 class="brand-title">Métodos Formais</h2>
        <h2 class="brand-tagline">Materiais da disciplina</h2>
      </div>
      <div class="footer">
  <div>Created using Emacs and <a href="https://github.com/juanjosegarciaripoll/org-thtml">org-mode</a></div>
</div>

    </div>
  </div>
</div>

      <div class="content pure-u-1 pure-u-md-2-3">
        <h2>Por que e pra que métodos formais?</h2>
        <a href="https://bugarela.com/mfo/slides/20240310185059-por_que_e_pra_que_metodos_formais.pdf">Slides</a>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#introdu-o-2">0.1. Introdução</a></li>
<li><a href="#introdu-o-ii-2">0.2. Introdução II</a></li>
</ul>
</li>
<li><a href="#joost-pieter-katoen-1">1. Joost-Pieter Katoen</a>
<ul>
<li><a href="#joost-pieter-katoen-2">1.1. Joost-Pieter Katoen</a></li>
<li><a href="#impacto-2">1.2. Impacto</a></li>
<li><a href="#overdose-de-radia-o-na-therac-25-1985-87-2">1.3. Overdose de radiação na Therac-25 (1985-87)</a></li>
<li><a href="#colapso-da-rede-de-telefonia-da-at-t-1990-2">1.4. Colapso da rede de telefonia da AT&amp;T (1990)</a></li>
<li><a href="#acidente-do-m-ssel-ariane-5-1996-2">1.5. Acidente do míssel Ariane 5 (1996)</a></li>
<li><a href="#defeito-de-ponto-flutuante-1994-2">1.6. Defeito de ponto flutuante (1994)</a></li>
</ul>
</li>
<li><a href="#a-casa-branca-1">2. A Casa Branca</a>
<ul>
<li><a href="#documento-da-casa-branca-cite-whitehouse-doc-2">2.1. Documento da Casa Branca (<a href="#citeproc_bib_item_2">HOUSE, 2024</a>)</a></li>
<li><a href="#par-grafo-1-2">2.2. Parágrafo 1</a></li>
<li><a href="#par-grafo-2-2">2.3. Parágrafo 2</a></li>
<li><a href="#par-grafo-3-2">2.4. Parágrafo 3</a></li>
<li><a href="#par-grafo-4-2">2.5. Parágrafo 4</a></li>
<li><a href="#par-grafo-5-2">2.6. Parágrafo 5</a></li>
</ul>
</li>
<li><a href="#leslie-lamport-1">3. Leslie Lamport</a>
<ul>
<li><a href="#leslie-lamport-2">3.1. Leslie Lamport</a></li>
<li><a href="#quem-constr-i-casas-sem-antes-desenhar-plantas-cite-lamport-blueprint-2">3.2. Quem constrói casas sem antes desenhar plantas? (<a href="#citeproc_bib_item_5">LAMPORT, 2015</a>)</a></li>
<li><a href="#usando-a-compara-o-com-plantas-2">3.3. Usando a comparação com plantas</a></li>
<li><a href="#escrevendo-especifica-es-2">3.4. Escrevendo especificações</a></li>
</ul>
</li>
<li><a href="#hillel-wayne-1">4. Hillel Wayne</a>
<ul>
<li><a href="#hillel-wayne-2">4.1. Hillel Wayne</a></li>
<li><a href="#hillel-s-pitch-cite-hillel-using-fm-2">4.2. Hillel&rsquo;s Pitch (<a href="#citeproc_bib_item_10">WAYNE, 2019</a>)</a></li>
<li><a href="#fasearch-fabug-achando-bugs-rapidamente-cite-hillel-fm-business-2">4.3. <i class="fa fa-search"></i><i class="fa fa-bug"></i> Achando bugs rapidamente (<a href="#citeproc_bib_item_11">WAYNE, 2020</a>)</a></li>
<li><a href="#fadollarsign-fawrench-economizando-no-desenvolvimento-e-manuten-o-2">4.4. <i class="fa fa-dollar-sign"></i><i class="fa-solid fa-wrench"></i> Economizando no desenvolvimento e manutenção</a></li>
<li><a href="#fasearch-fabug-achando-bugs-em-sistemas-legado-2">4.5. <i class="fa fa-search"></i><i class="fa fa-bug"></i> Achando bugs em sistemas legado</a></li>
<li><a href="#demo-adaptada-2">4.6. Demo (Adaptada)</a></li>
<li><a href="#demo-bug-fabug-2">4.7. Demo - bug <i class="fa fa-bug"></i></a></li>
<li><a href="#demo-caracter-sticas-do-bug-fabug-2">4.8. Demo - características do bug <i class="fa fa-bug"></i></a></li>
<li><a href="#quando-n-o-usar-m-todos-formais-2">4.9. Quando não usar métodos formais</a></li>
<li><a href="#refer-ncias-2">4.10. Referências</a></li>
</ul>
</div>
</div>
<div id="outline-container-introdu-o-2" class="outline-3">
<h3 id="introdu-o-2"><span class="section-number-3">0.1.</span> Introdução</h3>
<div class="outline-text-3" id="text-0-1">
<p>
Em todas as aulas dessa disciplina, eu vou estar, explicita ou implicitamente, tentando convencer vocês de que usar métodos formais para verificar sistemas complexos é importante.<br />
</p>

<p>
Contudo, pessoas diferentes tem visões diferentes, e tem muita gente de respeito por aí falando da importância de métodos formais. Essa aula vai apresentar as respostas de <b>outras pessoas</b> à pergunta: <b>Por que e pra que métodos formais?</b><br />
</p>
</div>
</div>
<div id="outline-container-introdu-o-ii-2" class="outline-3">
<h3 id="introdu-o-ii-2"><span class="section-number-3">0.2.</span> Introdução II</h3>
<div class="outline-text-3" id="text-0-2">
<p>
Eu posso pensar como na figura abaixo, mas cada pessoa se motiva de uma forma diferente (por exemplo, ver <i>Moving Motivators</i>).<br />
</p>

<div class="figure">
<p><img src="./figures/correspondence_meme.jpg" alt="correspondence_meme.jpg" width="450px" /><br />
</p>
</div>
</div>
</div>
<div id="outline-container-joost-pieter-katoen-1" class="outline-2">
<h2 id="joost-pieter-katoen-1"><span class="section-number-2">1.</span> Joost-Pieter Katoen</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-joost-pieter-katoen-2" class="outline-3">
<h3 id="joost-pieter-katoen-2"><span class="section-number-3">1.1.</span> Joost-Pieter Katoen</h3>
<div class="outline-text-3" id="text-1-1">

<div class="figure">
<p><img src="./figures/Joost-Pieter-Katoen.jpg" alt="Joost-Pieter-Katoen.jpg" width="450px" /><br />
</p>
</div>
<ul class="org-ul">
<li>Cientista teórico da computação<br /></li>
<li>Professor renomado e líder do Grupo de Modelagem e Verificação de softwareda na universidade RWTH Aachen University.<br /></li>
<li>Um dos autores do livro &ldquo;Principles of Model Checking&rdquo;, da bibliografia do curso<br /></li>
</ul>
</div>
</div>
<div id="outline-container-impacto-2" class="outline-3">
<h3 id="impacto-2"><span class="section-number-3">1.2.</span> Impacto</h3>
<div class="outline-text-3" id="text-1-2">
<p>
O impacto que um <i>bug</i> pode ter varia muito de acordo com o tipo de sistema.<br />
</p>

<p>
Vamos ver alguns exemplos de <i>bugs</i> que tiveram um impacto muito grande. Esses exemplos foram dados pelo professor Joost-Pieter Katoen em uma aula introdutória a <i>model checking</i> (<a href="#citeproc_bib_item_4">KATOEN, 2013</a>).<br />
</p>
</div>
</div>
<div id="outline-container-overdose-de-radia-o-na-therac-25-1985-87-2" class="outline-3">
<h3 id="overdose-de-radia-o-na-therac-25-1985-87-2"><span class="section-number-3">1.3.</span> Overdose de radiação na Therac-25 (1985-87)</h3>
<div class="outline-text-3" id="text-1-3">

<div class="figure">
<p><img src="./figures/therac25.png" alt="therac25.png" width="450px" /><br />
</p>
</div>

<ul class="org-ul">
<li>Therac-25 era uma máquina de radioterapia controlada por computador<br /></li>
<li>6 acidentes por overdose de radiação (~100x da dose)<br />
<ul class="org-ul">
<li>3 pacientes morreram<br /></li>
</ul></li>
<li>Causa: software de controle entre dois modos de tratamento<br /></li>
</ul>
</div>
</div>
<div id="outline-container-colapso-da-rede-de-telefonia-da-at-t-1990-2" class="outline-3">
<h3 id="colapso-da-rede-de-telefonia-da-at-t-1990-2"><span class="section-number-3">1.4.</span> Colapso da rede de telefonia da AT&amp;T (1990)</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>9 horas de serviço interrompido em grande parte dos EUA.<br /></li>
<li>Causa: um <code>break</code> incorreto em C (deveria sair de um <code>if</code>, mas estava saindo de um <code>switch</code>), que fez os computadores reiniciarem em cadeia a cada 6s.<br /></li>
<li>Prejuízo: Centenas de milhões de dólares<br /></li>
</ul>
</div>
</div>
<div id="outline-container-acidente-do-m-ssel-ariane-5-1996-2" class="outline-3">
<h3 id="acidente-do-m-ssel-ariane-5-1996-2"><span class="section-number-3">1.5.</span> Acidente do míssel Ariane 5 (1996)</h3>
<div class="outline-text-3" id="text-1-5">

<div class="figure">
<p><img src="./figures/ariane5.png" alt="ariane5.png" width="450px" /><br />
</p>
</div>

<ul class="org-ul">
<li>Conversão de um float 64 bits pra um inteiro de 16 bits<br /></li>
</ul>
</div>
</div>
<div id="outline-container-defeito-de-ponto-flutuante-1994-2" class="outline-3">
<h3 id="defeito-de-ponto-flutuante-1994-2"><span class="section-number-3">1.6.</span> Defeito de ponto flutuante (1994)</h3>
<div class="outline-text-3" id="text-1-6">

<div class="figure">
<p><img src="./figures/pentium.jpg" alt="pentium.jpg" width="450px" /><br />
</p>
</div>

<ul class="org-ul">
<li>Em inglês, <i>Pentium FDIV bug</i><br /></li>
<li>Lançamento da família <i>Pentium</i> da Intel<br /></li>
<li>Uma das inovações era uma tabela para aumentar a velocidade de multiplicação de ponto flutuante<br />
<ul class="org-ul">
<li>Ainda na fase de testes, descobriram um problema, mas acreditava-se ser muito raro<br /></li>
<li>No fim, não era tão raro assim, e tiveram que fazer <i>recall</i> dos produtos<br /></li>
</ul></li>
<li>Prejuízo: ~500 milhões de dólares e grande perda de reputação da Intel<br /></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-a-casa-branca-1" class="outline-2">
<h2 id="a-casa-branca-1"><span class="section-number-2">2.</span> A Casa Branca</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-documento-da-casa-branca-cite-whitehouse-doc-2" class="outline-3">
<h3 id="documento-da-casa-branca-cite-whitehouse-doc-2"><span class="section-number-3">2.1.</span> Documento da Casa Branca (<a href="#citeproc_bib_item_2">HOUSE, 2024</a>)</h3>
<div class="outline-text-3" id="text-2-1">

<div class="figure">
<p><img src="./figures/whitehouse_cover.png" alt="whitehouse_cover.png" width="450px" /><br />
</p>
</div>
</div>
</div>
<div id="outline-container-par-grafo-1-2" class="outline-3">
<h3 id="par-grafo-1-2"><span class="section-number-3">2.2.</span> Parágrafo 1</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Even if engineers build with memory safe programming languages and memory safe chips, one must think about the vulnerabilities that will persist even after technology manufacturers take steps to eliminate the most prevalent classes. Given the complexities of code, <b>testing is a necessary but insufficient step</b> in the development process to fully reduce vulnerabilities at scale. If correctness is defined as the ability of a piece of software to meet a specific security requirement, then it is possible to <b>demonstrate correctness using mathematical techniques</b> called formal methods. These techniques, often used to prove a range of software outcomes, can also be used in a cybersecurity context and are <b>viable even in complex environments like space</b>. While formal methods have been studied for decades, their deployment remains limited; <b>further innovation in approaches to make formal methods widely accessible is vital to accelerate broad adoption</b>. Doing so enables formal methods to serve as another powerful tool to give software developers greater assurance that entire classes of vulnerabilities, even beyond memory safety bugs, are absent.<br />
</p>
</div>
</div>
<div id="outline-container-par-grafo-2-2" class="outline-3">
<h3 id="par-grafo-2-2"><span class="section-number-3">2.3.</span> Parágrafo 2</h3>
<div class="outline-text-3" id="text-2-3">
<p>
While there are several types of formal methods that span a range of techniques and stages in the software development process, this report highlights a few specific examples. <b>Sound static analysis</b> examines the software for specific properties without executing the code. This method is effective because it can be used across many representations of software, including the source code, architecture, requirements, and executables. <b>Model checkers</b> can answer questions about a number of higher-level properties. These algorithms can be used during production; however, they are limited in their scaled use due to their computational complexity. <b>Assertion-based testing</b> is a formal statement of properties carried in the code that may be used to cross-check the code during testing or production. These generated proofs allow for <b>faults to be detected much earlier</b> and closer to the erroneous code, rather than tracing back from externally visible systems failures.<br />
</p>
</div>
</div>
<div id="outline-container-par-grafo-3-2" class="outline-3">
<h3 id="par-grafo-3-2"><span class="section-number-3">2.4.</span> Parágrafo 3</h3>
<div class="outline-text-3" id="text-2-4">
<p>
There are two ways software engineers can use these techniques across software and hardware. First, formal methods can be incorporated directly into <b>the developer toolchain</b>. As the programmer builds, tests, and deploys software, the compiler can automate these mathematical proofs and verify that a security condition is met. Additionally, the developer can <b>use formally verified core components</b> in their software supply chain. By choosing provably secure software libraries, developers can ensure the components they are using are less likely to contain vulnerabilities.<br />
</p>
</div>
</div>
<div id="outline-container-par-grafo-4-2" class="outline-3">
<h3 id="par-grafo-4-2"><span class="section-number-3">2.5.</span> Parágrafo 4</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Formal methods can be incorporated throughout the development process to reduce the prevalence of multiple categories of vulnerabilities. Some emerging technologies are also well-suited to this technique. As questions arise about the safety or trustworthiness of a new software product, <b>formal methods can accelerate market adoption in ways that traditional software testing methods cannot</b>. They allow for proving the presence of an <b>affirmative requirement, rather than testing for the absence of a negative condition</b>.<br />
</p>
</div>
</div>
<div id="outline-container-par-grafo-5-2" class="outline-3">
<h3 id="par-grafo-5-2"><span class="section-number-3">2.6.</span> Parágrafo 5</h3>
<div class="outline-text-3" id="text-2-6">
<p>
While memory safe hardware and formal methods can be <b>excellent complementary approaches</b> to mitigating undiscovered vulnerabilities, one of the most impactful actions software and hardware manufacturers can take is <b>adopting memory safe programming languages</b>. They offer a way to eliminate, not just mitigate, entire bug classes. This is a remarkable opportunity for the technical community to improve the cybersecurity of the entire digital ecosystem.<br />
</p>
</div>
</div>
</div>
<div id="outline-container-leslie-lamport-1" class="outline-2">
<h2 id="leslie-lamport-1"><span class="section-number-2">3.</span> Leslie Lamport</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-leslie-lamport-2" class="outline-3">
<h3 id="leslie-lamport-2"><span class="section-number-3">3.1.</span> Leslie Lamport</h3>
<div class="outline-text-3" id="text-3-1">

<div class="figure">
<p><img src="./figures/Leslie-Lamport.jpg" alt="Leslie-Lamport.jpg" width="450px" /><br />
</p>
</div>
<ul class="org-ul">
<li>Muitos trabalhos importantes na área de Sistemas Distribuídos<br /></li>
<li>Autor inicial do LaTeX<br /></li>
<li>Recebeu um prêmio de Turing em 2013<br /></li>
<li>Criador de TLA e TLA+<br /></li>
</ul>
</div>
</div>
<div id="outline-container-quem-constr-i-casas-sem-antes-desenhar-plantas-cite-lamport-blueprint-2" class="outline-3">
<h3 id="quem-constr-i-casas-sem-antes-desenhar-plantas-cite-lamport-blueprint-2"><span class="section-number-3">3.2.</span> Quem constrói casas sem antes desenhar plantas? (<a href="#citeproc_bib_item_5">LAMPORT, 2015</a>)</h3>
<div class="outline-text-3" id="text-3-2">
<blockquote>
<p>
Writing is nature&rsquo;s way of letting you know how sloppy your thinking is. &#x2013;Dick Guindon<br />
</p>
</blockquote>

<p>
Plantas nos permitem pensar com clareza sobre o que estamos construindo. Antes de escrever código, nós deveriamos escrever uma &ldquo;planta&rdquo; - em software, uma especificação.<br />
</p>
</div>
</div>
<div id="outline-container-usando-a-compara-o-com-plantas-2" class="outline-3">
<h3 id="usando-a-compara-o-com-plantas-2"><span class="section-number-3">3.3.</span> Usando a comparação com plantas</h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>Muitas pessoas argumentam que especificar software é uma perda de tempo<br />
<ul class="org-ul">
<li>Por exemplo: especificações são inúteis porque não podemos gerar todo o <b>código</b> a partir dela<br />
<ul class="org-ul">
<li>Isso é como dizer que desenhar plantas é inútil porque ainda precisa-se de <b>construtores</b> para construir.<br /></li>
</ul></li>
</ul></li>
</ul>

<ul class="org-ul">
<li>Alguns argumentam que essa analogia não é válida porque é mais fácil <b>mudar código</b> do que <b>mudar uma construção</b><br />
<ul class="org-ul">
<li><b>Não!</b> Pode ser muito difícil mudar código, principalmente sem introduzir bugs. Especialmente sem especificações.<br /></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-escrevendo-especifica-es-2" class="outline-3">
<h3 id="escrevendo-especifica-es-2"><span class="section-number-3">3.4.</span> Escrevendo especificações</h3>
<div class="outline-text-3" id="text-3-4">
<blockquote>
<p>
But few engineers write specs because they have little <b>time to learn how</b> on the job, and they are unlikely to have learned in school. Some graduate schools teach courses on specification languages, but few teach how to use specification <b>in practice</b>. It&rsquo;s hard to draw blueprints for a skyscraper without ever having drawn one for a toolshed.<br />
</p>
</blockquote>

<p>
Uma dica é evitar usar o código como base para escrever especificações. Arquitetos não fazem as plantas usando tijolos.<br />
</p>
</div>
</div>
</div>
<div id="outline-container-hillel-wayne-1" class="outline-2">
<h2 id="hillel-wayne-1"><span class="section-number-2">4.</span> Hillel Wayne</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-hillel-wayne-2" class="outline-3">
<h3 id="hillel-wayne-2"><span class="section-number-3">4.1.</span> Hillel Wayne</h3>
<div class="outline-text-3" id="text-4-1">

<div class="figure">
<p><img src="./figures/Hillel-Wayne.jpg" alt="Hillel-Wayne.jpg" width="450px" /><br />
</p>
</div>
<ul class="org-ul">
<li>Autor do site <a href="https://www.learntla.com">Learn TLA+</a>, do livro  <a href="https://is.gd/ptlaplus">Practical TLA+</a> and da <a href="https://alloy.readthedocs.io/en/latest/">documentação do Alloy</a> (linguagem de especificação)<br /></li>
<li>Trabalha como consultor pra empresas, ensinado times a usarem TLA+<br />
<ul class="org-ul">
<li>Muita experiência prática<br /></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-hillel-s-pitch-cite-hillel-using-fm-2" class="outline-3">
<h3 id="hillel-s-pitch-cite-hillel-using-fm-2"><span class="section-number-3">4.2.</span> Hillel&rsquo;s Pitch (<a href="#citeproc_bib_item_10">WAYNE, 2019</a>)</h3>
<div class="outline-text-3" id="text-4-2">
<blockquote>
<p>
Formal methods are an incredibly powerful tool. The biggest barrier to using them, in my opinion, is <b>education</b>. FM requires a different mindset from coding and sometimes people have trouble <b>building the intuition</b>. There’s also an implicitly-assumed set of math skills that are easy to learn but hard to realize you need to learn.<br />
</p>
</blockquote>
</div>
</div>
<div id="outline-container-fasearch-fabug-achando-bugs-rapidamente-cite-hillel-fm-business-2" class="outline-3">
<h3 id="fasearch-fabug-achando-bugs-rapidamente-cite-hillel-fm-business-2"><span class="section-number-3">4.3.</span> <i class="fa fa-search"></i><i class="fa fa-bug"></i> Achando bugs rapidamente (<a href="#citeproc_bib_item_11">WAYNE, 2020</a>)</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Quanto antes os bugs são encontrados, menos dano eles causam.<br />
</p>
<ul class="org-ul">
<li>AWS (<a href="#citeproc_bib_item_1">CHRIS NEWCOMBE, 2014</a>)<br />
<ul class="org-ul">
<li>Modelaram DynamoDB e S3 (entre outros)<br /></li>
<li>Encontraram bugs complexos em ambos, um deles requeria 35 passos para reprodução<br /></li>
<li>Testes, QA e revisão de código não foram suficientes<br /></li>
<li>Também conseguiram fazer otimizações agressivas com mais confiança<br /></li>
</ul></li>
</ul>

<ul class="org-ul">
<li>eSparkLearning (<a href="#citeproc_bib_item_9">WAYNE, 2017</a>)<br />
<ul class="org-ul">
<li>Precisaram modificar o sistema para atender um cliente grande<br /></li>
<li>Dois dias investidos em uma especificação em TLA+<br /></li>
<li>Bugs significantes encontrados, que causariam a perda desse cliente<br /></li>
<li>Estimativa de $300k/ano economizados<br /></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-fadollarsign-fawrench-economizando-no-desenvolvimento-e-manuten-o-2" class="outline-3">
<h3 id="fadollarsign-fawrench-economizando-no-desenvolvimento-e-manuten-o-2"><span class="section-number-3">4.4.</span> <i class="fa fa-dollar-sign"></i><i class="fa-solid fa-wrench"></i> Economizando no desenvolvimento e manutenção</h3>
<div class="outline-text-3" id="text-4-4">
<p>
Formalizando designs, é possível simplificar os sistemas antes de começar a desenvolver.<br />
</p>
<ul class="org-ul">
<li>OpenComRTOS (<a href="#citeproc_bib_item_8">VERHULST et al., 2011</a>)<br />
<ul class="org-ul">
<li>Real-time operating system (RTOS)<br /></li>
<li>Modelar ajudou com que desenvolvedores júniores (menos experientes) pudessem contribuir para o sistema complexo<br /></li>
</ul></li>
</ul>

<ul class="org-ul">
<li>Cockroach Labs (<a href="#citeproc_bib_item_7">VANBENSCHOTEN, 2019</a>)<br />
<ul class="org-ul">
<li>Modelo em TLA+ para uma otimização de commits paralelos<br /></li>
<li>Encontraram um bug que precisaria de mais de 10 horas para debugar<br /></li>
<li>O modelo deu confiança de que a solução para o bug funcionava<br /></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-fasearch-fabug-achando-bugs-em-sistemas-legado-2" class="outline-3">
<h3 id="fasearch-fabug-achando-bugs-em-sistemas-legado-2"><span class="section-number-3">4.5.</span> <i class="fa fa-search"></i><i class="fa fa-bug"></i> Achando bugs em sistemas legado</h3>
<div class="outline-text-3" id="text-4-5">
<p>
Mesmo em sistemas legados, e muito útil achar bugs antes que os usuários os achem.<br />
</p>
<ul class="org-ul">
<li>Rackspace (<a href="#citeproc_bib_item_6">PARLAR, 2019</a>)<br />
<ul class="org-ul">
<li>Analisando um sistema em produção com Alloy, acharam um bug tão severo que tiveram que refazer <b>um ano</b> de trabalho. Se tivessem usado métodos formais desde o início, poderiam ter salvado esse ano.<br /></li>
</ul></li>
</ul>

<ul class="org-ul">
<li>ElasticSearch (<a href="#citeproc_bib_item_3">HOWELL, 2018</a>)<br />
<ul class="org-ul">
<li>Em três dias de modelagem de algumas partes da engine do ElasticSearch, um problema significante foi econtrado.<br /></li>
<li>Três meses depois de arrumarem o problema, alguém encontrou e reportou o exato problema em uma versão antiga.<br /></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-demo-adaptada-2" class="outline-3">
<h3 id="demo-adaptada-2"><span class="section-number-3">4.6.</span> Demo (Adaptada)</h3>
<div class="outline-text-3" id="text-4-6">
<ul class="org-ul">
<li>Estou doando meu sofá, alguém quer?<br /></li>
<li>Quem quiser, me manda um e-mail essa semana e é seu<br /></li>
</ul>

<p>
Mais detalhes:<br />
</p>
<ul class="org-ul">
<li>Um sofá tem um dono<br /></li>
<li>O dono do sofá pode ofertá-lo a outra pessoa. Quem recebe a oferta pode aceitá-la, e assim o sofá passa a ser dessa pessoa, ou rejeitá-la, e assim nada acontece<br /></li>
<li>A aceitação/rejeição é assíncrona. O dono do sofá pode oferecê-lo para várias pessoas e a pessoa pode esperar alguns dias antes de aceitar ou rejeitar a oferta<br /></li>
</ul>

<p>
Temos um problema aqui, conseguem ver?<br />
</p>
</div>
</div>
<div id="outline-container-demo-bug-fabug-2" class="outline-3">
<h3 id="demo-bug-fabug-2"><span class="section-number-3">4.7.</span> Demo - bug <i class="fa fa-bug"></i></h3>
<div class="outline-text-3" id="text-4-7">
<ol class="org-ol">
<li>Gabriela tem o sofá<br /></li>
<li>Gabriela oferece o sofá pra Alice<br /></li>
<li>Gabriela oferece o sofá pro Bob<br /></li>
<li>Alice aceita. O sofá agora é da Alice<br /></li>
<li>Bob aceita. O sofá agora é do Bob<br /></li>
</ol>

<p>
A Alice não ofereceu o sofá para o Bob, mas o sofá era dela e passou a ser do Bob.<br />
</p>
</div>
</div>
<div id="outline-container-demo-caracter-sticas-do-bug-fabug-2" class="outline-3">
<h3 id="demo-caracter-sticas-do-bug-fabug-2"><span class="section-number-3">4.8.</span> Demo - características do bug <i class="fa fa-bug"></i></h3>
<div class="outline-text-3" id="text-4-8">
<ul class="org-ul">
<li>É complexo: envolve três pessoas e quatro passos. Difícil de especificar com testes unitários.<br /></li>
<li>É sutíl: O único sintoma é que a Alice ficou sem sofá. Uma pessoa testando o OLX não ia perceber isso.<br /></li>
<li>É perigoso: Viola um requisito principal do sistema. A Alice (e quem ouvir a história dela) vai deixar de confiar em mim.<br /></li>
</ul>

<p>
Em (<a href="#citeproc_bib_item_11">WAYNE, 2020</a>), o Hillel apresenta uma especificação em TLA+ de 15 linhas para um sistema análogo a esse e econtra o bug usando um model checker.<br />
</p>
</div>
</div>
<div id="outline-container-quando-n-o-usar-m-todos-formais-2" class="outline-3">
<h3 id="quando-n-o-usar-m-todos-formais-2"><span class="section-number-3">4.9.</span> Quando não usar métodos formais</h3>
<div class="outline-text-3" id="text-4-9">
<p>
Alguns pontos negativos:<br />
</p>
<ul class="org-ul">
<li>Não é possível obter a <b>implementação</b> a partir da especificação. Se você precisa ter absoluta certeza que a implementação corresponde à implementação, muito mais recursos são necessários.<br /></li>
</ul>
<ul class="org-ul">
<li>Escrever especificações é útil para sistemas complexos. Se você consegue manter o sistema inteiro na sua cabeça, pode não ser benéfico escrever uma especificação.<br />
<ul class="org-ul">
<li>&ldquo;Rule of thumb&rdquo;: Especificar coisas que levam menos de uma semana pra desenvolver não vale a pena.<br /></li>
</ul></li>
</ul>
<ul class="org-ul">
<li>Especificações não são a melhor ferramenta pra encontrar erros simples de implementação, como null-checks.<br /></li>
</ul>
</div>
</div>
<div id="outline-container-refer-ncias-2" class="outline-3">
<h3 id="refer-ncias-2"><span class="section-number-3">4.10.</span> Referências</h3>
<div class="outline-text-3" id="text-4-10">
<div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>CHRIS NEWCOMBE, F. Z. Tim Rath. <b>Use of formal methods at amazon web services</b>. Disponível em: &#60;<a href="https://lamport.azurewebsites.net/tla/formal-methods-amazon.pdf">https://lamport.azurewebsites.net/tla/formal-methods-amazon.pdf</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_2"></a>HOUSE, T. W. <b>Back to the building blocks: A path toward secure and measurable software</b>. Disponível em: &#60;<a href="https://www.whitehouse.gov/wp-content/uploads/2024/02/Final-ONCD-Technical-Report.pdf">https://www.whitehouse.gov/wp-content/uploads/2024/02/Final-ONCD-Technical-Report.pdf</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_3"></a>HOWELL, K. <b>Possible to index duplicate documents with same id and routing id</b>. Disponível em: &#60;<a href="https://github.com/elastic/elasticsearch/issues/31976#ISSUECOMMENT-404722753">https://github.com/elastic/elasticsearch/issues/31976#ISSUECOMMENT-404722753</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_4"></a>KATOEN, J.-P. <b>Introduction to model checking</b>. Disponível em: &#60;<a href="https://moves.rwth-aachen.de/wp-content/uploads/SS16/mc/lec1.pdf">https://moves.rwth-aachen.de/wp-content/uploads/SS16/mc/lec1.pdf</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_5"></a>LAMPORT, L. <a href="https://doi.org/10.1145/2736348">Who builds a house without drawing blueprints?</a> <b>Commun. acm</b>, v. 58, n. 4, p. 38–41, Mar. 2015. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_6"></a>PARLAR, J. <b>Finding bugs without running or even looking at code</b>. Disponível em: &#60;<a href="https://www.youtube.com/watch?v=FvNRlE4E9QQ&ab_channel=StrangeLoopConference">https://www.youtube.com/watch?v=FvNRlE4E9QQ&#38;ab_channel=StrangeLoopConference</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_7"></a>VANBENSCHOTEN, N. <b>Parallel commits: An atomic commit protocol for globally distributed transactions</b>. Disponível em: &#60;<a href="https://www.cockroachlabs.com/blog/parallel-commits/">https://www.cockroachlabs.com/blog/parallel-commits/</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_8"></a>VERHULST, E. et al. <b><a href="https://doi.org/10.1007/978-1-4419-9736-4">Formal development of a network-centric rtos</a></b>. [s.l: s.n.]. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_9"></a>WAYNE, H. <b>Formal methods in practice: Using tla+ at espark learning</b>. Disponível em: &#60;<a href="https://medium.com/espark-engineering-blog/formal-methods-in-practice-8f20d72bce4f">https://medium.com/espark-engineering-blog/formal-methods-in-practice-8f20d72bce4f</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_10"></a>WAYNE, H. <b>Using formal methods at work</b>. Disponível em: &#60;<a href="https://www.hillelwayne.com/post/using-formal-methods/">https://www.hillelwayne.com/post/using-formal-methods/</a>&#62;. </div>
  <div class="csl-entry"><a id="citeproc_bib_item_11"></a>WAYNE, H. <b>The business case for formal methods</b>. Disponível em: &#60;<a href="https://www.hillelwayne.com/post/business-case-formal-methods/">https://www.hillelwayne.com/post/business-case-formal-methods/</a>&#62;. </div>
</div>
</div>
</div>
</div>

      </div>
    </div>
  </body>
</html>
